/* eslint-disable no-var, prefer-template */
(function () {
  var $preview = $(".choose-template-preview");
  var $templateName = $(".template-name");
  var $templateDescription = $(".template-description");

  $templateName.html("<%= translated_attribute @template.name %>");
  $templateDescription.html("<%= translated_attribute @template.description %>");

  $preview.html("<%= j(render partial: "preview", locals: { questionnaire: @questionnaire }) %>");
}());

document.querySelectorAll("[data-decidim-map]").forEach((map) => {
  const mapData = JSON.parse(map.getAttribute("data-decidim-map"));
  const mapCtrl = $(map).data("map-controller");
  mapCtrl.map.invalidateSize();
})
